<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
    <meta name="theme-color" content="#006341"/>
<meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EstatÃ­sticas â€” Mestre da Loteria â€“ Sorte Certa</title>
  <link rel="icon" type="image/png" href="./assets/logo.png"/>
  <link rel="stylesheet" href="./assets/style.css" />
</head>
<body>
  <div class="bg-wealth" aria-hidden="true"></div>


<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="./index.html" title="Voltar ao InÃ­cio">
      <span class="brand-mark"><img src="./assets/logo.png" alt="Mestre da Loteria" width="120" height="120"/></span>
      <span class="brand-text">
        <span class="brand-title">Mestre da Loteria</span>
        <span class="brand-sub">Sorte Certa</span>
      </span>
    </a>

    <button class="nav-toggle" type="button" aria-label="Abrir menu" aria-expanded="false" aria-controls="site-nav">â˜°</button>

    <nav id="site-nav" class="site-nav">
      <a href="./index.html">ğŸ  InÃ­cio</a>
      <a href="./megasena.html">ğŸ° Mega-Sena</a>
      <a href="./lotofacil.html">ğŸ€ LotofÃ¡cil</a>
      <a href="./estatisticas.html">ğŸ“Š EstatÃ­sticas</a>
      <a href="./jogos.html">ğŸ—ƒï¸ Meus Jogos</a>
      <a href="./contato.html">âœ‰ï¸ Contato</a>
    </nav>
  </div>
  <div class="tricolor-ribbon" aria-hidden="true"></div>
</header>

<main class="container page">
    
<section class="hero">
  <div class="sparkle-layer" aria-hidden="true"></div>
  <h2>ğŸ“Š EstatÃ­sticas</h2>
  <p class="muted">FrequÃªncia e recÃªncia por dezenas (API com fallback offline).</p>
<div class="hero-nav" role="navigation" aria-label="Atalhos das anÃ¡lises">
  <a class="hero-btn" href="#freq">ğŸ“Š FrequÃªncia &amp; RecÃªncia</a>
  <a class="hero-btn" href="#rep">ğŸ” PadrÃ£o das Repetidas</a>
  <a class="hero-btn" href="#top">ğŸ¯ Dezenas mais sorteadas</a>
  <a class="hero-btn" href="#par">âš–ï¸ Pares &amp; Ãmpares</a>
</div>
</section>

<section class="card" style="margin-top:16px;">
  <div class="row">
    <div class="field">
      <label>Modalidade</label>
      <select id="st_game">
        <option value="megasena" selected>Mega-Sena</option>
        <option value="lotofacil">LotofÃ¡cil</option>
      </select>
    </div>
    <div class="field">
      <label>Base (Ãºltimos N)</label>
      <select id="st_base">
        <option value="50">50</option>
        <option value="100" selected>100</option>
        <option value="200">200</option>
        <option value="500">500</option>
        <option value="1000">1000</option>
        <option value="all">Todo histÃ³rico</option>
      </select>
    </div>
    <div class="field">
      <label>Top</label>
      <select id="st_top">
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="30">30</option>
        <option value="50">50</option>
        <option value="100" selected>100</option>
      </select>
    </div>
    
    <div class="field">
      <label>Concurso (opcional)</label>
      <input id="st_concurso" type="number" min="1" step="1" placeholder="Ex.: 2750" />
    </div>

    <button class="btn primary" id="st_run">Atualizar</button>
    <button class="btn" id="st_csv" disabled>Exportar CSV</button>
  </div>

  <div class="kpis" id="st_kpis"></div>

<div class="stats-subnav" aria-label="SeÃ§Ãµes de estatÃ­sticas">
  <a class="pill" href="#freq">ğŸ“Š FrequÃªncia &amp; RecÃªncia</a>
  <a class="pill" href="#rep">ğŸ” Repetidas</a>
  <a class="pill" href="#top">ğŸ¯ Mais sorteadas</a>
  <a class="pill" href="#par">âš–ï¸ Pares &amp; Ãmpares</a>
</div>

  <div class="stats-stack" style="margin-top:14px;">
    <section id="freq" class="stats-card accent-green">
      <div class="stats-card-head">
        <div class="stats-card-title">ğŸ“Š FrequÃªncia e RecÃªncia</div>
        <div class="stats-card-sub muted">Ordene por frequÃªncia, atraso (recÃªncia) e veja tendÃªncia â†‘â†“ (janela base vs anterior).</div>
      </div>

      <div class="card" style="padding:12px;">
        <canvas id="st_canvas" class="chart-canvas"></canvas>
      </div>

      <div class="table-wrap" style="margin-top:10px;">
        <table class="data-table">
          <thead>
            <tr>
              <th data-sort="n">Dezena</th>
              <th data-sort="count">FrequÃªncia</th>
              <th data-sort="delay"><span class="tip" data-tip="Atraso atual = quantos concursos se passaram desde a Ãºltima vez que a dezena apareceu.">Atraso atual</span></th>
              <th data-sort="trend"><span class="tip" data-tip="TendÃªncia compara a frequÃªncia na base atual com a janela anterior do mesmo tamanho.">TendÃªncia</span></th>
            </tr>
          </thead>
          <tbody id="st_heat_body"></tbody>
        </table>
      </div>

      <div class="row" style="margin-top:10px; gap:10px; flex-wrap:wrap;">
        <button class="btn" id="st_copy_heat">ğŸ“‹ Copiar tabela</button>
        <button class="btn" id="st_excel" disabled>Exportar Excel</button>
      </div>
    </section>

    <section id="rep" class="stats-card accent-red">
      <div class="stats-card-head">
        <div class="stats-card-title">ğŸ” PadrÃ£o das Repetidas</div>
        <div class="stats-card-sub muted">ComparaÃ§Ã£o com o concurso anterior. Use o grÃ¡fico para ver os maiores atrasos.</div>
      </div>

      <div class="card" style="padding:12px;">
        <canvas id="st_rep_canvas" class="chart-canvas" style="height:260px;"></canvas>
      </div>

      <div class="table-wrap" style="margin-top:10px;">
        <table class="data-table">
          <thead>
            <tr>
              <th>Qtd Repetidas</th>
              <th>OcorrÃªncias</th>
              <th>Atraso</th>
              <th>Ãšltima ocorrÃªncia</th>
            </tr>
          </thead>
          <tbody id="st_rep_body"></tbody>
        </table>
      </div>
    </section>

    <section id="top" class="stats-card accent-gold">
      <div class="stats-card-head">
        <div class="stats-card-title">ğŸ¯ Dezenas mais sorteadas</div>
        <div class="stats-card-sub muted">Ranking visual (Top selecionado). As 3 primeiras ficam destacadas.</div>
      </div>

      <div class="rank" id="st_rank"></div>

      <div class="table-wrap" style="margin-top:10px;">
        <div class="row" style="justify-content:space-between;align-items:center;margin-top:8px;gap:10px;flex-wrap:wrap;"><div class="muted" id="st_top_label">Mostrando Top (atualizado)</div></div><table class="data-table" id="st_topnums_table">
          <thead>
            <tr>
              <th>#</th>
              <th>Dezena</th>
              <th>FrequÃªncia</th>
              <th>%</th>
              <th>Atraso</th>
              <th>TendÃªncia</th>
            </tr>
          </thead>
          <tbody id="st_topnums_body"></tbody>
        </table>
      </div>
    </section>

    <section id="par" class="stats-card accent-blue">
      <div class="stats-card-head">
        <div class="stats-card-title">âš–ï¸ Pares e Ãmpares</div>
        <div class="stats-card-sub muted">ProporÃ§Ã£o geral + mÃ©dia histÃ³rica por concurso (base selecionada).</div>
      </div>

      <div class="card" style="padding:12px;">
        <canvas id="st_par_pie" class="chart-canvas" style="height:260px;"></canvas>
      </div>

      <div class="kpis" id="st_par_kpis" style="margin-top:10px;"></div>

      <div class="table-wrap" style="margin-top:10px;">
        <table class="data-table">
          <thead>
            <tr>
              <th>Qtd Pares</th>
              <th>Qtd Ãmpares</th>
              <th>OcorrÃªncias</th>
              <th>Atraso</th>
              <th>%</th>
              <th>Ãšltima ocorrÃªncia</th>
            </tr>
          </thead>
          <tbody id="st_par_body"></tbody>
        </table>
      </div>
    </section>
  </div>

</section>

  <section class="stats-section" style="margin-top:14px;">
    <div class="stats-head">
      <h3>ğŸ”¥ Dezenas mais Sorteadas</h3>
      <p class="muted">Mostra as dezenas que mais saÃ­ram na base selecionada.</p>
    </div>
    <div class="table-wrap">
      <div class="row" style="justify-content:space-between;align-items:center;margin-top:8px;gap:10px;flex-wrap:wrap;"><div class="muted" id="st_top_label">Mostrando Top (atualizado)</div></div><table class="data-table" id="st_topnums_table">
          <thead>
            <tr>
              <th>#</th>
              <th>Dezena</th>
              <th>FrequÃªncia</th>
              <th>%</th>
              <th>Atraso</th>
              <th>TendÃªncia</th>
            </tr>
          </thead>
        <tbody id="st_topnums_body"></tbody>
      </table>
    </div>
  </section>

  <section class="stats-section" style="margin-top:14px;">
    <div class="stats-head">
      <h3>âš–ï¸ PadrÃ£o de Pares e Ãmpares</h3>
      <p class="muted">Mostra a distribuiÃ§Ã£o (pares/Ã­mpares) que aconteceu nos concursos (na base selecionada).</p>
    </div>
    <div class="table-wrap">
      <table class="data-table">
        <thead>
          <tr>
            <th>Qtd Pares</th>
            <th>Qtd Ãmpares</th>
            <th>OcorrÃªncias</th>
            <th>Atraso atual</th>
            <th>Porcentagem</th>
            <th>MÃ©dia de ocorrÃªncia</th>
            <th>Ãšltima ocorrÃªncia</th>
          </tr>
        </thead>
        <tbody id="st_par_body"></tbody>
      </table>
    </div>
  </section>

</section>

  </main>

  <footer class="site-footer">
  <div class="container foot">
    <div class="container">
    <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:center;">
      <div>Â© 2026 <b>Mestre da Loteria â€“ Sorte Certa</b> â€¢ Ferramenta de organizaÃ§Ã£o e simulaÃ§Ã£o.</div>
      <div class="muted">Dica: o histÃ³rico Ã© atualizado automaticamente via GitHub Actions. Se estiver vazio, rode o workflow uma vez em Actions.</div>
    </div>
      </div>
    </div>
</footer>

  <script type="module">
    import { toast } from "./assets/common.js";
    if (location.protocol === "file:") {
      toast("warn","Dica","Abra via servidor local: python -m http.server 8000", 6500);
    }
  </script>
  <script type="module" src="./assets/estatisticas.js"></script>
  <script defer src="./assets/layout.js"></script>


</html>
